# Extends the main docker-compose file depending on the active environment.
# The file is automatically picked up thanks to .env for localdev setting COMPOSE_FILE accordingly.
version: '2.3'
services:
  varnish:
    ports:
      - "${WEB_LISTEN_IP:-127.0.0.1}:${WEB_HTTP_PORT:-80}:80"
  solr:
    ports:
      # exposes the port 8983 with a random local port, find it with `docker-compose port solr 8983`
      - "127.0.0.1::8983"
  mariadb:
    ports:
      # exposes the port 3306 with a random local port, find it with `docker-compose port mariadb 3306`
      - "127.0.0.1::3306"
